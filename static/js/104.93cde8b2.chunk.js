"use strict";(self.webpackChunksocial_net=self.webpackChunksocial_net||[]).push([[104],{6317:(e,s,t)=>{t.r(s),t.d(s,{default:()=>Q});var o=t(8094),r=t(414),l=t(3373);const a="UserForm_user__Bv2nz",n="UserForm_user__boxFoto__Q1R+R",i="UserForm_user__meId__JCBwE",c="UserForm_user__btnInput__hYlAm",d="UserForm_user__hidden__TtNYb";var m=t(6746),u=t(8821),p=t(5917),f=t(8058);var x=t(2189),h=t(8014),_=t(5712),g=t(5678);const j=(0,o.memo)((e=>{let{editMode:s,saveForm:t}=e;return(0,g.jsx)(m.A,{sx:{height:"100%",alignSelf:"baseline"},children:(0,g.jsx)(x.A,{color:"success","aria-label":"change text",onClick:e=>{e.stopPropagation(),t()},children:s?(0,g.jsx)(_.A,{fontSize:"small"}):(0,g.jsx)(h.A,{fontSize:"small"})})})})),b="UserFormList_user__box__jdgni",k="UserFormList_user__item__u64TL",F="UserFormList_user__name__xANjZ",C="UserFormList_user__social__xH-US";var S=t(3678),A=t(4748),v=t(8298),U=t(2321),N=t(7383),P=t(5051);const M=(0,o.memo)((e=>{let{profileUserState:s,editMode:t,formRef:r,setProfileUserState:l,setEditMode:a,saveForm:n}=e;const{errorLocal:i,formItems:c,collectionOfForm:d,collectionOfFormCheckbox:u,collectionOfFormSocial:p}=function(e,s){const[t,r]=(0,o.useState)({});return{errorLocal:t,formItems:[{label:"Name",prop:"fullName",title:e&&e.fullName?e.fullName[0].toUpperCase()+e.fullName.slice(1):""},{label:"Status",prop:"status",title:e.status},{label:"About me",prop:"aboutMe",title:e.aboutMe},{label:"Skills",prop:"lookingForAJobDescription",title:e.lookingForAJobDescription}],collectionOfForm:(e,t)=>{t.length>=300?r((s=>({...s,[e]:"More than 300 symbols"}))):(s((s=>({...s,[e]:t}))),r((s=>({...s,[e]:void 0}))))},collectionOfFormCheckbox:e=>{s((s=>({...s,lookingForAJob:e.currentTarget.checked})))},collectionOfFormSocial:e=>{s((s=>({...s,contacts:{...s.contacts,...e}})))}}}(s,l);return(0,g.jsxs)(m.A,{className:b,ref:r,children:[(0,g.jsxs)(S.A,{sx:{width:"118%"},children:[c.map((e=>(0,g.jsxs)(A.Ay,{className:k,children:[(0,g.jsxs)(v.A,{sx:{fontWeight:"bold",padding:"10px 9px",lineHeight:"0px"},children:[e.label,":"]}),(0,g.jsx)(N.l,{error:i&&void 0!==i[e.prop],helperText:i&&i[e.prop],title:e.title,label:e.label,additionalClass:F,editMode:t,setEditMode:a,onChange:s=>d(e.prop,s),saveForm:n})]},e.label))),(0,g.jsxs)(A.Ay,{className:k,children:[(0,g.jsx)(v.A,{sx:{fontWeight:"bold",padding:"10px 9px"},children:"Job Seeker:"}),(0,g.jsx)(U.A,{name:"lookingForAJob",color:"success",checked:s.lookingForAJob,disabled:!t,onChange:e=>u(e),sx:{width:"fit-content",padding:"0"}})]})]}),(0,g.jsx)(P.f,{editMode:t,additionalClass:C,saveForm:n,setEditMode:a,collectionOfFormSocial:p})]})}));var E=t(3043),L=t(5287);const R=(0,o.memo)((e=>{let{profileUserState:s,setProfileUserState:t}=e;const l=(0,r.d4)(E.$),{editMode:x,formRef:h,filePicker:_,setEditMode:b,updatePhotoUser:k,saveForm:F,handlePick:C}=function(e,s){const t=(0,r.d4)(p.tB),l=(0,o.useRef)(null),a=(0,o.useRef)(null),[n,i]=(0,o.useState)(!1),{updateProfileUserTC:c,updateProfileUserStatusTC:d,updateProfileUserPhotoTC:m}=(0,f.d)(p.HS),u=(0,o.useCallback)((async()=>{if(n){i(!1);const o={...e};s((e=>({...e}))),t.status!==e.status&&d({status:o.status}),t.photos!==e.photos&&m({small:o.photos.small,large:o.photos.large});const{status:r,photos:l,...a}=o;c({params:a})}else i(!0)}),[n,e,s,c,d,m]);return(0,o.useEffect)((()=>{const e=e=>{e.preventDefault(),a&&a.current&&!a.current.contains(e.target)&&(i(!1),s(t))};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}})),{editMode:n,filePicker:l,formRef:a,setEditMode:i,updatePhotoUser:e=>{var t;if(null!==(t=e.target.files)&&void 0!==t&&t.length){const t=e.target.files[0];s((e=>({...e,photos:{small:t,large:t}})))}},saveForm:u,handlePick:()=>{null!==l.current&&l.current.click()}}}(s,t);return(0,g.jsxs)(m.A,{className:"".concat(a," flex-start"),tabIndex:0,children:[(0,g.jsxs)(m.A,{className:n,onClick:e=>e.stopPropagation(),children:[(0,g.jsx)(u.K,{link:s.photos.large,additionalClass:l?i:""}),x&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(L.$,{name:"Upload",additionalClass:c,callBack:C}),(0,g.jsx)("input",{type:"file",name:"photo",ref:_,className:d,accept:"image/*, .png, .jpg, .gif, .jpeg",onChange:k})]})]}),(0,g.jsx)(M,{editMode:x,profileUserState:s,formRef:h,setEditMode:b,setProfileUserState:t,saveForm:F}),(0,g.jsx)(j,{editMode:x,saveForm:F})]})})),w=()=>{const e=(0,r.d4)(p.tB),[s,t]=(0,o.useState)(e),{getProfileUserTC:l}=(0,f.d)(p.HS),a=(0,r.d4)(E.$);return(0,o.useEffect)((()=>{a&&l({userId:a})}),[l,a]),(0,o.useEffect)((()=>{t(e)}),[e]),(0,g.jsx)(R,{profileUserState:s,setProfileUserState:t})},I=()=>(0,g.jsx)(m.A,{className:"banner"});var T=t(1358),y=t(1856),B=t(2895),J=t(8080),O=t(9630);const H="Friend_friend__rtxKS",z="Friend_friend__foto__kQ9aP",K=e=>{let{friend:s}=e;const{photos:t,name:o,status:r}=s;return(0,g.jsxs)(m.A,{className:H,children:[(0,g.jsx)(u.K,{link:t.large,additionalClass:z}),(0,g.jsxs)(m.A,{children:[(0,g.jsx)(v.A,{variant:"h5",sx:{fontSize:"15px",fontWeight:"bold",paddingBottom:"15px"},children:o}),(0,g.jsxs)(v.A,{children:[" ",r||"My status will be here soon"," "]})]})]})},$=e=>{let{item:s}=e;const{id:t,followed:r,likeCounter:l}=s;let[a,n]=(0,o.useState)(!1);const i=(0,J.j)();return r?(0,g.jsxs)(m.A,{className:"post",id:"".concat(t),children:[(0,g.jsx)(m.A,{className:"flex-start",children:(0,g.jsx)(K,{friend:s})}),(0,g.jsxs)(m.A,{className:"post__wrap-icon",children:[(0,g.jsx)(y.g,{icon:B.qcK,className:"post__icon ".concat(a?"red":""),onClick:()=>a?(i((0,O.kq)({userId:t})),n(!1)):(i((0,O.CB)({userId:t})),n(!0))}),(0,g.jsx)(v.A,{variant:"h6",sx:{fontSize:"12px"},children:l})]})]}):null};var D=t(4529),W=t(9840);const q=()=>{let[e,s]=(0,o.useState)("");const t=(0,o.useCallback)((e=>{s("")}),[e]);return(0,g.jsxs)(m.A,{className:"form-posts",children:[(0,g.jsx)("label",{htmlFor:"posts",className:"form-posts__label",children:"My posts"}),(0,g.jsx)("textarea",{minLength:10,className:"form-posts__texarea",placeholder:"My news....",id:"posts",name:"posts",value:e,onChange:e=>{s(e.currentTarget.value)}}),(0,g.jsx)("div",{className:"flex-end",children:(0,g.jsx)(L.$,{callBack:()=>t(e),name:"Send",additionalClass:"form-posts__button"})})]})},Q=()=>{let e=sessionStorage.getItem("profile");const[s,t]=(0,o.useState)(e?+e:1),a=(0,r.d4)(O.fd);let n=(0,r.d4)(D.Ep),i=(0,r.d4)(E.CR);const c=(0,l.Zp)();(0,o.useEffect)((()=>{!n&&i&&c("/login")}),[n,i,c]);const{pagesCount:d,setCurrentPageHandle:m}=(0,W.R)("profile",s,!0,t);let u=a.map((e=>(0,g.jsx)($,{item:e},e.id)));return(0,g.jsxs)("div",{className:"content",children:[(0,g.jsx)(I,{}),(0,g.jsx)(w,{}),(0,g.jsx)(q,{}),u,(0,g.jsx)(T.H,{pagesCount:d,currentPage:s,setCurrentPage:m})]})}}}]);